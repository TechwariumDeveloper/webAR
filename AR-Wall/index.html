<!DOCTYPE html>
<html lang="en">

<head>
    <title>GO Konfigurator | pixlip.com</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="../AR-Wall/style.css" />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</head>

<body>
    <header style="border-bottom:1px solid #e5e5e5">
        <div class="row" style="max-width:1200px;margin:auto;padding-top:15px;padding-bottom:15px;">
            <div class=""><img src="https://www.pixlip.com/media/e7/f0/5e/1637244539/pixlip_logo_classic_%281%29.svg" height="20px" style=""/><span style="font-size:16px;font-weight:400;position: relative;bottom:-7px;"><span class="text-de">Konfigurator</span><span class="text-en">Configurator</span></span></div>
            <div style="margin-top:14px;"><a href="https://pixlip.com/" style="margin-left:1vw; line-height: 1.6;padding:4px 5px; font-weight: 400;border:2px solid #06c; color: #06c; font-size:16px;"><span class="text-de">Zur&uuml;ck zur Homepage</span><span class="text-en">Back to homepage</span></a></div>
        </div>
    </header>
    <div class="divoverapp" style="max-width:1200px;margin:auto;height:90vh;">
    <div id='app'>
        <div id="canvas-standgenerator"></div>
        <div id="app-menu">
            <div class='page' data-page='1' id="page-data1">
                <label>
                    <div class="name-label">
                            <span class="text-de">L&auml;nge</span><span class="text-en">Length</span>: 
                            <span class="set-size">4.0</span><div class="in-block">&nbsp;Meter</div>
                    </div>
                    <input class='size' id="range1" name='length' step='1' value='4' type="range" min="1" max="6"  />
                    <div class="vertLine">
                        <span class="on"></span>
                        <span class="on"></span>
                        <span class="on"></span>
                        <span class="on"></span>
                        <span></span>
                        <span></span>
                    </div>
                </label>
                <label>
                    <div class="name-label">
                        <span class="text-de">Breite</span><span class="text-en">Width</span>: 
                        <span class="set-size">4.0</span><div class="in-block">&nbsp;Meter</div>
                    </div>
                    <input class='size' id="range1" name='width' step='1' value='4' type="range" min="1" max="6"  />
                    <div class="vertLine">
                        <span class="on"></span>
                        <span class="on"></span>
                        <span class="on"></span>
                        <span class="on"></span>
                        <span></span>
                        <span></span>
                    </div>
                </label>
                <label>
                    <div class="name-label">
                        <span class="text-de">H&ouml;he</span><span class="text-en">Height</span>:
                        <span class="set-size">2.0</span><div class="in-block">&nbsp;Meter</div>
                    </div>
                    <input class='size' name='height' value='2' step="0.25" type="range" min="2" max="2.5" />
                    <div class="vertLine">
                        <span class="on"></span>
                        <span></span>
                        <span></span>
                    </div>
                </label>

                <div class="container-font-size-row">
                    <div class="container-font-size">
                        <div class="name-label"><span class="text-de">W&auml;nde</span><span class="text-en">Walls</span></div>
                        <span class="input-number-decrement wall-decrement">
                            <div id="wall-decrement-div">
                                <span><svg viewBox="0 0 24 25"><path d="M18,11H6c-1.104,0-2,0.896-2,2s0.896,2,2,2h12c1.104,0,2-0.896,2-2S19.104,11,18,11z"/></svg></span>
                            </div>
                        </span>
                        <input class="size input-number-wall" id="wallValueTest" name="walls" min="1" max="3" value="2" type="number">
                        <span class="input-number-increment  wall-increment">
                            <div id="wall-increment-div">
                                <span><svg viewBox="0 0 24 24"><path d="M18,10h-4V6c0-1.104-0.896-2-2-2s-2,0.896-2,2l0.071,4H6c-1.104,0-2,0.896-2,2s0.896,2,2,2l4.071-0.071L10,18  c0,1.104,0.896,2,2,2s2-0.896,2-2v-4.071L18,14c1.104,0,2-0.896,2-2S19.104,10,18,10z"/></svg></span>
                            </div>
                        </span>
                    </div>
                    <div class="container-font-size">
                        <div class="name-label"><span class="text-de">Kabine</span><span class="text-en">Cabin</span></div>
                        <span class="input-number-decrement cabin-decrement">
                            <div id="cabin-decrement-div" class="silver-circle">
                                <span><svg viewBox="0 0 24 25"><path d="M18,11H6c-1.104,0-2,0.896-2,2s0.896,2,2,2h12c1.104,0,2-0.896,2-2S19.104,11,18,11z"/></svg></span>
                            </div>
                        </span>
                        <input class="size input-number-cabin" id="cabinValueTest" name="cabin" min="0" max="1" value="0" type="number">
                        <span class="input-number-increment  cabin-increment">
                            <div id="cabin-increment-div">
                                <span><svg viewBox="0 0 24 24"><path d="M18,10h-4V6c0-1.104-0.896-2-2-2s-2,0.896-2,2l0.071,4H6c-1.104,0-2,0.896-2,2s0.896,2,2,2l4.071-0.071L10,18  c0,1.104,0.896,2,2,2s2-0.896,2-2v-4.071L18,14c1.104,0,2-0.896,2-2S19.104,10,18,10z"/></svg></span>
                            </div>
                        </span>
                    </div>

                    <div class="container-font-size">                                                                                                                        
                        <div class="name-label"><span class="text-de">Counter</span><span class="text-en">Counter</span></div>
                        <span class="input-number-decrement counter-decrement">
                        <div id="counter-decrement-div" class="silver-circle">
                            <span><svg viewBox="0 0 24 25"><path d="M18,11H6c-1.104,0-2,0.896-2,2s0.896,2,2,2h12c1.104,0,2-0.896,2-2S19.104,11,18,11z"/></svg></span>
                            </div>
                        </span>
                        <input class="size input-number-counter" id="counterValueTest" name="counter" value="0" type="number">
                        <span class="input-number-increment  counter-increment">
                        <div id="counter-increment-div">
                            <span><svg viewBox="0 0 24 24"><path d="M18,10h-4V6c0-1.104-0.896-2-2-2s-2,0.896-2,2l0.071,4H6c-1.104,0-2,0.896-2,2s0.896,2,2,2l4.071-0.071L10,18  c0,1.104,0.896,2,2,2s2-0.896,2-2v-4.071L18,14c1.104,0,2-0.896,2-2S19.104,10,18,10z"/></svg></span>
                            </div>
                        </span>
                    </div>
                </div>
                <div class="container-font-size-row unselectable">
                    <div class="container-font-size">     
                        <div class="name-label name-label-checkbox">
                            <span class="text-de">Sollen maximal 1 Meter breite Rahmen verwendet werden?</span>
                            <span class="text-en">Do you want to split the stand into 1m wide walls?</span>
                        </div>
                        <input type="checkbox" id="wallmetr" name="wallmetr" class="input-checkbox">
                        <label for="wallmetr" data-onlabel="yes" data-onlabelde="ja" data-offlabel="no" data-offlabelde="nein" class="lb1 lang-label"></label>
                    </div>
                    <div class="container-font-size">     
                        <div class="name-label name-label-checkbox">
                            <span class="text-de">Möchten Sie eine große oder eine kleine Kabine?</span>
                            <span class="text-en">Do you want to have a small or a big cabin?</span>
                        </div>
                        <input type="checkbox" id="bigcabin" name="bigcabin" class="input-checkbox" checked>
                        <label for="bigcabin" data-onlabel="big" data-onlabelde="groß" data-offlabel="small" data-offlabelde="klein" class="lb1 lang-label"></label>
                    </div>
                </div>
                <div class="wrap-for-button mt-30 mb-30"><span><span id="price"></span></div>
                <div class="wrap-for-button mt-30 mb-30">
                    <span class='done'>
                        <span class="text-de">In den Warenkorb</span>
                        <span class="text-en">Add to shopping cart</span>
                    </span>
                </div>
            </div>
    </div>
    <br/>
</div>
</div>
    <script>
        $('input[type=range]').on('input', function(e) {
            var min = e.target.min,
                max = e.target.max,
                val = e.target.value;

            $(e.target).css({
                'backgroundSize': (val - min) * 100 / (max - min) + '% 100%'
            });
        }).trigger('input');
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="three.min.js"></script>
    <script src="OrbitControls.js"></script>
    <script src="DragControls.js"></script>
    <script src="standgenerator.min.js"></script>

    <script>
        const get_lang = new URLSearchParams(window.location.search).get('lang');
       if (get_lang != null && get_lang.toLowerCase() === 'de') {
            $(".text-de").show().css('opacity',1);
            $(".text-en").hide();
           
            $(".lang-label").each(function() {
                $(this).attr('data-onlabel', $(this).data('onlabelde'));
                $(this).attr('data-offlabel', $(this).data('offlabelde'));
            });
       } else {
            $(".text-en").show().css('opacity',1);
            $(".text-de").hide();
       }
    </script>
    <!-- script for input number  -->
    <script>
        /*wall number script Start*/
       
        $("#wallValueTest").blur(function() {
            var wallValueTest = $("#wallValueTest");
            var currentValue = wallValueTest.val();
            if (currentValue > 3) {
                wallValueTest.val(3);
            } else if (currentValue < 1) {
                wallValueTest.val(1);
            }
        });
        $(".wall-increment").click(function() {
            var wallValueTest = $("#wallValueTest");
            if (wallValueTest.val() < 3) {
                let input = document.getElementById('wallValueTest');
                input.value = parseInt(wallValueTest.val()) + 1;
                // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
        });
        $(".wall-decrement").click(function() {
            var wallValueTest = $("#wallValueTest");
            if (wallValueTest.val() > 1) {
                var wallValueTest = $("#wallValueTest");
                let input = document.getElementById('wallValueTest');
                input.value = parseInt(wallValueTest.val()) - 1;
                // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
        });
        /*wall number script End*/

        /*cabin number script Start*/
       
        $("#cabinValueTest").blur(function() {
            var cabinValueTest = $("#cabinValueTest");
            var currentValue = cabinValueTest.val();
            if (currentValue > 1) {
                cabinValueTest.val(1);
            } else if (currentValue < 0) {
                cabinValueTest.val(0);
            }
           
        });
        $(".cabin-increment").click(function() {
            var cabinValueTest = $("#cabinValueTest");
            if (cabinValueTest.val() < 1) {
                let input = document.getElementById('cabinValueTest');
                input.value = parseInt(cabinValueTest.val()) + 1;
                // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
            
        });
        $(".cabin-decrement").click(function() {
            var cabinValueTest = $("#cabinValueTest");
            if (cabinValueTest.val() > 0) {
                var cabinValueTest = $("#cabinValueTest");
                let input = document.getElementById('cabinValueTest');
                input.value = parseInt(cabinValueTest.val()) - 1;
                // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
           
        });
        /*cabin number script End*/

        /*counter number script Start*/
       
        $("#counterValueTest").blur(function() {
            var counterValueTest = $("#counterValueTest");
            var currentValue = counterValueTest.val();
            if (currentValue > 2) {
                counterValueTest.val(2);
            } else if (currentValue < 0) {
                counterValueTest.val(0);
            }
           
        });
        $(".counter-increment").click(function() {
            var counterValueTest = $("#counterValueTest");
            if (counterValueTest.val() < 2) {
                let input = document.getElementById('counterValueTest');
                input.value = parseInt(counterValueTest.val()) + 1
                    // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
           
        });

        $(".counter-decrement").click(function() {
            var counterValueTest = $("#counterValueTest");
            if (counterValueTest.val() > 0) {
                var counterValueTest = $("#counterValueTest");
                let input = document.getElementById('counterValueTest');
                input.value = parseInt(counterValueTest.val()) - 1;
                // Trigger the event
                var event = new Event('change');
                input.dispatchEvent(event);
            }
           
        });
        /*counter number script End*/

        (function() {
            window.inputNumber = function(el) {

                var min = el.attr('min') || false;
                var max = el.attr('max') || false;
                var els = {};
                els.dec = el.prev();
                els.inc = el.next();
                el.each(function() {
                    init($(this));
                });

                function init(el) {
                    els.dec.on('click', decrement);
                    els.inc.on('click', increment);

                    function decrement() {
                        var value = el[0].value;
                        value--;
                        if (!min || value >= min) {
                            el[0].value = value;
                        }
                    }

                    function increment() {
                        var value = el[0].value;
                        value++;
                        if (!max || value <= max) {
                            el[0].value = value++;
                        }
                    }
                }
            }
        })();
        inputNumber($('.input-number'));
    </script>

<script>
    $('.done').click(function(e) {
        e.preventDefault();
        generator.submit(function() {
            //after submit stand
        });
    });

</script>

    <script>
        var setColorLine = function(e) { var min = e.min, max = e.max, val = e.value; $(e).css({'backgroundSize': (val - min) * 100 / (max - min) + '% 100%'}); };

        generator.init();

        function setVert(input) {
            let step=input.prop('step');
            let min=input.prop('min');
            
            input.closest("label").find(".vertLine span").removeClass('on');
            input.closest("label").find(".vertLine span").each(function(index) {
                if (index * step <= input.val() - min) {
                    $(this).addClass('on');
                }
            });
        }
        $(".size").on("input",function() {
            setVert($(this));
        });
        $(".size").change(function() {
            var input = $(this);
            input.closest("label").find(".vertLine span").removeClass('on');
            generator.state.setState({
                type: input.attr("name"),
                value: input.val()
            }, function(answer) {
                if (input.hasClass('input-number-cabin') || input.hasClass('input-number-wall') || input.hasClass('input-number-counter')) {
                    input.val(answer);
                } else {
                    input.closest("label").find("input").val(answer);
                    setVert(input.closest("label").find("input"));

                    if (answer.toString().indexOf('.')===-1) answer = answer+'.0'
                    input.closest("label").find("span.set-size").html(answer);

                    setColorLine(input[0]);
                }
            });
        });

        $(".size-c").change(function() {
            var _this = $(this);
            generator.state.setState({
                type: $(this).attr("name"),
                value: $(this).is(":checked")
            }, function(val) {
                if (val==true) {
                    _this.attr("checked",true);
                } else {
                    _this.attr("checked",false);
                }

            });
        });
        $(".setText").change(function() {
            generator.state.setState({
                type: $(this).attr("name"),
                value: $(this).val()
            });
        });
        $(".size-s").change(function() {
            generator.state.setState({
                type: $(this).attr("name"),
                value: $(this).val()
            });
        });
        $('.input-checkbox').change(function() {
            generator.state.setState({
                type: $(this).attr("name"),
                value: $(this).is(":checked")
            });
        });
        // var fileLogo = document.getElementById('loadLogo');
        // fileLogo.addEventListener('change', function(ev) {
        //     if (ev.target.files) {
        //         let file = ev.target.files[0];
        //         var reader = new FileReader();
        //         reader.readAsDataURL(file);
        //         reader.onloadend = function(e) {
        //             generator.state.setState({
        //                 type: "loadfileLogo",
        //                 value: e.target.result
        //             });
        //         }
        //     }
        // });
        // $(".logoClear").click(function() {
        //     $("#loadLogo").val('');
        //     generator.state.setState({
        //         type: "loadfileLogo",
        //         value: false
        //     });
        // });
    </script>

    <!-- input type file -->
    <script>
            $('input[type="file"]').each(function() {
            // get label text
            var label = $(this).parents('.form-group').find('label').text();
            label = (label) ? label : 'add';
            // wrap the file input
            $(this).wrap('<div class="input-file"></div>');
            // display label
            $(this).before('<span class="btn file-btn">' + label + '</span>');
            // we will display selected file here
            $(this).before('<span class="file-selected"></span>');
            // file input change listener 
            $(this).change(function(e) {
                // Get this file input value
                var val = $(this).val();
                // Let's only show filename.
                // By default file input value is a fullpath, something like 
                // C:\fakepath\Nuriootpa1.jpg depending on your browser.
                var filename = val.replace(/^.*[\\\/]/, '');
                // Display the filename
                $(this).siblings('.file-selected').text(filename);
            });
        });
        // Open the file browser when our custom button is clicked.
        $('.input-file .btn').click(function() {
            $(this).siblings('input[type="file"]').trigger('click');
        });
    </script>
</body>

</html>